name: Build Veyon on Windows

on:
  push:
    branches: ["main"]
  pull_request:
    branches: ["main"]

jobs:
  build:
    runs-on: windows-latest

    steps:
      - name: Checkout repository (with tags)
        uses: actions/checkout@v4
        with:
          fetch-depth: 0

      - name: Install Qt 5.15.2
        id: install-qt
        uses: jurplel/install-qt-action@v4
        with:
          version: 5.15.2
          host: windows
          target: desktop
          arch: win64_msvc2019_64

      - name: Setup MSVC
        uses: ilammy/msvc-dev-cmd@v1

      - name: Install Ninja
        uses: seanmiddleditch/gha-setup-ninja@v4

      # --- START NEW STEPS FOR QCA DEPENDENCY ---
      - name: Clone QCA Source
        # Cloning from the official KDE mirror
        run: git clone --depth 1 --branch master https://github.com/KDE/qca.git qca_src

      - name: Configure QCA with CMake
        # FIXED: Added flags to disable unnecessary plugins (Botan, NSS, GCrypt)
        # to prevent the "PkgConfig" error.
        run: |
          mkdir qca_build
          cd qca_build
          cmake -G "Ninja" -DCMAKE_BUILD_TYPE=Release `
            -DCMAKE_INSTALL_PREFIX="${{ runner.temp }}/qca-install" `
            -DCMAKE_PREFIX_PATH="${{ steps.install-qt.outputs.qt_dir }}" `
            -DWITH_openssl=runtime `
            -DWITH_botan_plugin=no `
            -DWITH_nss_plugin=no `
            -DWITH_gcrypt_plugin=no `
            -DWITH_pkcs11_plugin=no `
            -DWITH_gnupg_plugin=no `
            -DQCA_ENABLE_PLUGINS=NO `
            -DBUILD_TESTS=OFF `
            ../qca_src

      - name: Build and Install QCA
        run: |
          cd qca_build
          ninja
          ninja install

      - name: Add QCA to Veyon's Prefix Path
        # Updates CMAKE_PREFIX_PATH so Veyon can find the QCA we just built
        run: |
          echo "CMAKE_PREFIX_PATH=${{ steps.install-qt.outputs.qt_dir }};${{ runner.temp }}\qca-install;${{ runner.temp }}\qca-install\lib\cmake" | Out-File -FilePath $env:GITHUB_ENV -Encoding utf8 -Append
          echo "Updated CMAKE_PREFIX_PATH to include QCA install directory: ${{ runner.temp }}/qca-install"
      # --- END NEW STEPS FOR QCA DEPENDENCY ---

      - name: Configure build with CMake
        run: |
          mkdir build
          cd build
          cmake -G "Ninja" -DCMAKE_BUILD_TYPE=Release ..

      - name: Build Veyon
        run: |
          cd build
          ninja

      - name: Upload Build Artifacts
        uses: actions/upload-artifact@v4
        with:
          name: veyon-windows-build
          path: build/**
```

### What I Changed:
I added these lines to the `Configure QCA with CMake` step:
```powershell
-DWITH_botan_plugin=no `
-DWITH_nss_plugin=no `
-DWITH_gcrypt_plugin=no `
-DWITH_pkcs11_plugin=no `
-DWITH_gnupg_plugin=no `
